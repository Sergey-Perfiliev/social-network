(this["webpackJsonpsocial-network"]=this["webpackJsonpsocial-network"]||[]).push([[3],{293:function(e,t,a){e.exports={descriptionBlock:"ProfileInfo_descriptionBlock__2JV6W",descriptionAvatar:"ProfileInfo_descriptionAvatar__27xiy",contact:"ProfileInfo_contact__2H8JV",mainProfileInfo:"ProfileInfo_mainProfileInfo__1Ra0q",ProfileFullName:"ProfileInfo_ProfileFullName__z6SX3",ProfileData:"ProfileInfo_ProfileData__1lhGH",ProfileDataRow:"ProfileInfo_ProfileDataRow__2Y9Kr",ProfileDataLabel:"ProfileInfo_ProfileDataLabel__1mTnX",ProfileDataDesc:"ProfileInfo_ProfileDataDesc__3bJG2",ProfileDataBtn:"ProfileInfo_ProfileDataBtn__3tlAI",profileFileUpload:"ProfileInfo_profileFileUpload__2PzD7"}},294:function(e,t,a){e.exports={postsBlock:"MyPosts_postsBlock__3LXpu",posts:"MyPosts_posts__3tIun",AddNewPostForm:"MyPosts_AddNewPostForm__3Ftly",profilePhoto:"MyPosts_profilePhoto__OYfM_"}},295:function(e,t,a){e.exports={item:"Post_item__4onop",PostPhoto:"Post_PostPhoto__3ne9v",PostInfo:"Post_PostInfo__UqWH7",PostInfoName:"Post_PostInfoName__3opAx",PostMessage:"Post_PostMessage__1fB5k",Likes:"Post_Likes__3QzVV"}},296:function(e,t,a){e.exports={Profile:"Profile_Profile__2-mNy"}},297:function(e,t,a){"use strict";a.r(t);var o=a(36),l=a(37),r=a(39),n=a(38),s=a(0),i=a.n(s),c=a(98),u=a(293),f=a.n(u),m=a(66),p=a(96),P=a.n(p),d=function(e){var t=Object(s.useState)(!1),a=Object(c.a)(t,2),o=a[0],l=a[1],r=Object(s.useState)(e.status),n=Object(c.a)(r,2),u=n[0],f=n[1];Object(s.useEffect)((function(){f(e.status)}),[e.status]);return i.a.createElement("div",null,o?i.a.createElement("div",null,i.a.createElement("input",{onChange:function(e){f(e.currentTarget.value)},autoFocus:!0,onBlur:function(){l(!1),e.updateStatus(u)},value:u})):i.a.createElement("div",null,i.a.createElement("span",{onDoubleClick:function(){l(!0)}},e.status||"enter your status")))},b=a(130),E=a(25),_=a(34),h=a.n(_),v=Object(b.a)({form:"edit-profile"})((function(e){var t=e.handleSubmit,a=e.profile,o=e.error;return i.a.createElement("form",{onSubmit:t},i.a.createElement("button",null,"save"),o&&i.a.createElement("div",{className:h.a.formSummaryError},o),i.a.createElement("div",null,"Fullname : ",Object(E.c)("Full name ","fullName",[],E.a,{type:"text"})),i.a.createElement("div",null,Object(E.c)("About me ","aboutMe",[],E.b)),i.a.createElement("div",null,"Looking for a job:",Object(E.c)("Looking for a job ","lookingForAJob",[],E.a,{type:"checkbox"})),i.a.createElement("div",null,Object(E.c)("My professional skills ","lookingForAJobDescription",[],E.b)),i.a.createElement("div",null,"Contacts: ",Object.keys(a.contacts).map((function(e){return i.a.createElement("div",{key:e},e," : ",Object(E.c)(e,"contacts."+e,[],E.a,{type:"text"}))}))))})),N=function(e){var t=e.profile,a=e.isOwner,o=e.goToEditMode,l=Object(s.useState)(!1),r=Object(c.a)(l,2),n=r[0],u=r[1];return i.a.createElement("div",{className:f.a.ProfileData},i.a.createElement("div",{className:f.a.ProfileDataRow},i.a.createElement("label",{className:f.a.ProfileDataLabel},"Looking for a job:"),i.a.createElement("p",{className:f.a.ProfileDataDesc},t.lookingForAJob?"yes":"no")),t.lookingForAJob&&i.a.createElement("div",{className:f.a.ProfileDataRow},i.a.createElement("label",{className:f.a.ProfileDataLabel},"Professional skills:"),i.a.createElement("p",{className:f.a.ProfileDataDesc},t.lookingForAJobDescription)),i.a.createElement("button",{onClick:function(){return u(!n)},className:f.a.ProfileDataBtn},"Show detailed information"),n&&i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:f.a.ProfileDataRow},i.a.createElement("label",{className:f.a.ProfileDataLabel},"About me:"),i.a.createElement("p",{className:f.a.ProfileDataDesc},t.aboutMe)),"Contacts: ",Object.keys(t.contacts).map((function(e){return i.a.createElement(k,{contactTitle:e,key:e,contactValue:t.contacts[e]})}))),a&&i.a.createElement("button",{onClick:o,className:f.a.editBtn},"edit"))},k=function(e){var t=e.contactTitle,a=e.contactValue;return""!==a&&i.a.createElement("div",{className:f.a.ProfileDataRow},i.a.createElement("label",{className:f.a.ProfileDataLabel},t,":"),i.a.createElement("p",{className:f.a.ProfileDataDesc},a))},g=function(e){var t=e.profile,a=e.status,o=e.updateStatus,l=e.isOwner,r=(e.savePhoto,e.saveProfile),n=Object(s.useState)(!1),u=Object(c.a)(n,2),p=u[0],b=u[1];if(!t)return i.a.createElement(m.a,null);return i.a.createElement("div",{className:f.a.descriptionBlock},i.a.createElement("div",{className:f.a.descriptionAvatar},i.a.createElement("img",{src:t.photos.large||P.a,className:f.a.mainPhoto}),l&&i.a.createElement("label",{class:f.a.profileFileUpload},i.a.createElement("input",{type:"file"}),"Update Profile photo")),i.a.createElement("div",null,i.a.createElement("div",{className:f.a.mainProfileInfo},i.a.createElement("h2",{className:f.a.ProfileFullName},t.fullName),i.a.createElement(d,{status:a,updateStatus:o})),p?i.a.createElement(v,{initialValues:t,profile:t,onSubmit:function(e){r(e).then((function(){return b(!1)}))}}):i.a.createElement(N,{profile:t,isOwner:l,goToEditMode:function(){return b(!0)}})))},D=a(97),O=a(16),j=a(41),I=a(294),y=a.n(I),w=a(295),S=a.n(w),F=function(e){return e.profile&&i.a.createElement("div",{className:S.a.item},i.a.createElement("div",{className:S.a.PostInfo},i.a.createElement("img",{src:e.profile?e.profile.photos.small:P.a,alt:"",className:S.a.PostPhoto}),i.a.createElement("div",{className:S.a.PostInfoName},e.profile.fullName,i.a.createElement("div",null,"date"))),i.a.createElement("div",{className:S.a.PostMessage},e.message),i.a.createElement("div",{className:S.a.Likes},i.a.createElement("span",null,"Likes")," ",e.likesCount))},A=a(90),M=a(67),L=Object(M.a)(10),x=Object(b.a)({form:"ProfileAddNewPostForm"})((function(e){return i.a.createElement("form",{onSubmit:e.handleSubmit,className:y.a.AddNewPostForm},i.a.createElement("img",{src:e.profile?e.profile.photos.small:P.a,className:y.a.profilePhoto}),i.a.createElement(A.a,{name:"newPostText",component:E.a,validate:[M.b,L],placeholder:"Whats new?"}),i.a.createElement("button",null,"Add post"))})),B=i.a.memo((function(e){var t=Object(j.a)(e.posts).reverse().map((function(t){return i.a.createElement(F,{profile:e.profile,message:t.message,key:t.id,likesCount:t.likesCount})}));return i.a.createElement("div",{className:y.a.postsBlock},i.a.createElement("h3",null,"My posts"),i.a.createElement(x,{onSubmit:function(t){e.addPost(t.newPostText)},profile:e.profile}),i.a.createElement("div",{className:y.a.posts},t))})),C=Object(O.b)((function(e){return{posts:e.profilePage.posts,newPostText:e.profilePage.newPostText,profile:e.profilePage.profile}}),(function(e){return{addPost:function(t){return e(Object(D.a)(t))}}}))(B),J=a(296),T=a.n(J),U=function(e){return i.a.createElement("div",{className:T.a.Profile},i.a.createElement(g,{isOwner:e.isOwner,profile:e.profile,status:e.status,updateStatus:e.updateStatus,savePhoto:e.savePhoto,saveProfile:e.saveProfile}),i.a.createElement(C,null))},R=a(10),V=a(9),z=function(e){Object(r.a)(a,e);var t=Object(n.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"refreshProfile",value:function(){var e=this.props.match.params.userId;e||(e=this.props.authorizedUserId)||this.props.history.push("/login"),this.props.getUserProfile(e),this.props.getStatus(e)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,t,a){this.props.match.params.userId!=e.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement(U,Object.assign({},this.props,{isOwner:!this.props.match.params.userId,profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus,savePhoto:this.props.savePhoto})))}}]),a}(i.a.Component);t.default=Object(V.d)(Object(O.b)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,authorizedUserId:e.auth.userId,isAuth:e.auth.isAuth}}),{getUserProfile:D.d,getStatus:D.c,updateStatus:D.g,savePhoto:D.e,saveProfile:D.f}),R.g)(z)}}]);
//# sourceMappingURL=3.2c6796f6.chunk.js.map
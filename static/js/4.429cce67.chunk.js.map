{"version":3,"sources":["components/Dialogs/Dialogs.module.css","components/Dialogs/Message/Message.jsx","components/Dialogs/DialogItem/DialogItem.jsx","components/Dialogs/AddMessageFrom/AddMessageForm.jsx","components/Dialogs/Dialogs.jsx","hoc/WithAuthRedirect.jsx","components/Dialogs/DialogsContainer.jsx"],"names":["module","exports","Message","props","className","s","message","DialogItem","dialog","active","to","id","name","maxLength50","maxLengthCreator","reduxForm","form","onSubmit","handleSubmit","Field","component","Textarea","validate","required","placeholder","Dialogs","state","dialogsPage","dialogsElements","dialogs","map","d","key","messagesElements","messages","m","isAuth","dialogsItems","values","sendMessage","newMessageBody","mapStateToPropsForRedirect","auth","compose","connect","dispatch","sendMessageCreator","Component","RedirectComponent","this","React"],"mappings":"2GACAA,EAAOC,QAAU,CAAC,QAAU,yBAAyB,aAAe,8BAA8B,OAAS,wBAAwB,SAAW,4B,uFCW/HC,EARC,SAACC,GACb,OACI,yBAAKC,UAAWC,IAAEC,SACbH,EAAMG,U,QCKJC,EARI,SAACJ,GAChB,OACI,yBAAKC,UAAWC,IAAEG,OAAS,IAAMH,IAAEI,QAC/B,kBAAC,IAAD,CAASC,GAAI,YAAcP,EAAMQ,IAAKR,EAAMS,Q,yCCAlDC,EAAcC,YAAiB,IAgBtBC,cAAU,CAACC,KAAM,wBAAjBD,EAdQ,SAACZ,GACpB,OACI,0BAAMc,SAAUd,EAAMe,cAClB,6BACI,kBAACC,EAAA,EAAD,CAAOC,UAAWC,IACdC,SAAU,CAACC,IAAUV,GACrBD,KAAK,iBACLY,YAAY,qBAEpB,4CCmBGC,EA7BC,SAACtB,GAEhB,IAAIuB,EAAQvB,EAAMwB,YAEdC,EAAkBF,EAAMG,QAAQC,KAAI,SAAAC,GAAC,OACxC,kBAAC,EAAD,CAAYnB,KAAMmB,EAAEnB,KAAMoB,IAAKD,EAAEpB,GAAIA,GAAIoB,EAAEpB,QAGxCsB,EAAmBP,EAAMQ,SAASJ,KAAI,SAAAK,GAAC,OAAI,kBAAC,EAAD,CAAS7B,QAAS6B,EAAE7B,QAAS0B,IAAKG,EAAExB,QAMnF,OAAqB,IAAjBR,EAAMiC,OAAyB,kBAAC,IAAD,CAAU1B,GAAI,WAGhD,yBAAKN,UAAWC,IAAEwB,SACjB,yBAAKzB,UAAWC,IAAEgC,cAChBT,GAEF,yBAAKxB,UAAWC,IAAE6B,UACjB,6BAAMD,IAEP,kBAAC,EAAD,CAAgBhB,SAdE,SAACqB,GACpBnC,EAAMoC,YAAYD,EAAOE,qB,wCCfvBC,EAA6B,SAACf,GAAD,MAAY,CACzCU,OAAQV,EAAMgB,KAAKN,S,OCkBRO,sBACdC,aAhBqB,SAAClB,GAEtB,MAAO,CACNC,YAAaD,EAAMC,gBAII,SAACkB,GACzB,MAAO,CACNN,YAAa,SAACC,GACbK,EAASC,YAAmBN,UDVC,SAACO,GAAe,IACtCC,EADqC,uKAGnC,OAAKC,KAAK9C,MAAMiC,OAET,kBAACW,EAAcE,KAAK9C,OAFI,kBAAC,IAAD,CAAUO,GAAG,eAHT,GACXwC,IAAMH,WAWtC,OAHqCH,YAAQH,EAARG,CAAoCI,KCM9DL,CAGblB","file":"static/js/4.429cce67.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"Dialogs_dialogs__t_0b4\",\"dialogsItems\":\"Dialogs_dialogsItems__2UwLX\",\"active\":\"Dialogs_active__2tJME\",\"messages\":\"Dialogs_messages__3FpNq\"};","import React from 'react'\r\nimport s from '../Dialogs.module.css'\r\n\r\n\r\nconst Message = (props) => {\r\n    return (\r\n        <div className={s.message}>\r\n            {props.message}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Message","import React from 'react'\r\nimport s from '../Dialogs.module.css'\r\nimport { NavLink } from 'react-router-dom'\r\n\r\nconst DialogItem = (props) => {\r\n    return(\r\n        <div className={s.dialog + ' ' + s.active}>\r\n            <NavLink to={\"/dialogs/\" + props.id}>{props.name}</NavLink>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default DialogItem","import React from 'react'\r\nimport { Field } from 'redux-form'\r\nimport { Textarea } from '../../Common/FormsControls/FormsControls'\r\nimport { required, maxLengthCreator } from '../../../utils/validators/validator'\r\nimport { reduxForm } from 'redux-form'\r\n\r\n\r\nconst maxLength50 = maxLengthCreator(50)\r\n\r\nconst AddMessageForm = (props) => {\r\n    return (\r\n        <form onSubmit={props.handleSubmit}>\r\n            <div>\r\n                <Field component={Textarea}\r\n                    validate={[required, maxLength50]}\r\n                    name=\"newMessageBody\" \r\n                    placeholder=\"enter a message\" /> \r\n            </div>\r\n            <button>Send</button>\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default reduxForm({form: \"dialogAddMessageForm\"})(AddMessageForm)","import React from 'react'\r\nimport s from './Dialogs.module.css'\r\nimport Message from './Message/Message'\r\nimport DialogItem from './DialogItem/DialogItem'\r\nimport { Redirect } from 'react-router-dom'\r\nimport AddMessageForm from './AddMessageFrom/AddMessageForm'\r\n\r\n\r\nconst Dialogs = (props) => {\r\n\r\n\tlet state = props.dialogsPage\r\n\r\n\tlet dialogsElements = state.dialogs.map(d =>\r\n\t\t<DialogItem name={d.name} key={d.id} id={d.id} />\r\n\t)\r\n\r\n\tlet messagesElements = state.messages.map(m => <Message message={m.message} key={m.id} />)\r\n\r\n\tlet addNewMessage = (values) => {\r\n\t\tprops.sendMessage(values.newMessageBody)\r\n\t}\r\n\r\n\tif (props.isAuth === false) return <Redirect to={'/login'} />\r\n\r\n\treturn (\r\n\t\t<div className={s.dialogs}>\r\n\t\t\t<div className={s.dialogsItems}>\r\n\t\t\t\t{dialogsElements}\r\n\t\t\t</div>\r\n\t\t\t<div className={s.messages}>\r\n\t\t\t\t<div>{messagesElements}</div>\r\n\t\t\t</div>\r\n\t\t\t<AddMessageForm onSubmit={addNewMessage} />\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default Dialogs","import React from 'react'\r\nimport { Redirect } from 'react-router-dom'\r\nimport { connect } from 'react-redux'\r\n\r\nlet mapStateToPropsForRedirect = (state) => ({\r\n    isAuth: state.auth.isAuth\r\n})\r\n\r\nexport const WithAuthRedirect = (Component) => {\r\n    class RedirectComponent extends React.Component {\r\n        render() {\r\n            if (!this.props.isAuth) return <Redirect to='/login' />\r\n\r\n            return <Component {...this.props} />\r\n        }\r\n    }\r\n\r\n    let ConnectedAuthRedirectComponent = connect(mapStateToPropsForRedirect)(RedirectComponent)\r\n\r\n\r\n    return ConnectedAuthRedirectComponent\r\n}","import React from 'react'\r\nimport { sendMessageCreator } from '../../redux/dialogs-reducer'\r\nimport Dialogs from './Dialogs'\r\nimport { connect } from 'react-redux'\r\nimport { WithAuthRedirect } from '../../hoc/WithAuthRedirect'\r\nimport { compose } from 'redux'\r\n\r\n\r\nlet mapStateToProps = (state) => {\r\n\t// data from state\r\n\treturn {\r\n\t\tdialogsPage: state.dialogsPage\r\n\t}\r\n}\r\n\r\nlet mapDispatchToProps = (dispatch) => {\r\n\treturn {\r\n\t\tsendMessage: (newMessageBody) => {\r\n\t\t\tdispatch(sendMessageCreator(newMessageBody))\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport default compose(\r\n\tconnect(mapStateToProps, mapDispatchToProps),\r\n\tWithAuthRedirect\r\n)(Dialogs)"],"sourceRoot":""}
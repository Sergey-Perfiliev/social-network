{"version":3,"sources":["components/Navbar/Navbar.module.css","api/api.js","redux/dialogs-reducer.js","assets/loader.svg","assets/logo.png","components/Common/FormsControls/FormsControls.jsx","serviceWorker.js","components/Navbar/Navbar.jsx","utils/objects-helpers.js","redux/users-reducer.js","components/Common/Paginator/Paginator.jsx","components/Users/User.jsx","components/Users/Users.jsx","redux/users-selectors.js","components/Users/UsersContainer.jsx","components/Header/Header.jsx","redux/auth-reducer.js","components/Header/HeaderContainer.jsx","components/Login/Login.jsx","redux/app-reducer.js","redux/sidebar-reducer.js","redux/redux-store.js","hoc/WithSuspense.jsx","App.js","index.js","components/Common/FormsControls/FormsControls.module.css","components/Users/users.module.css","components/Header/Header.module.css","components/Common/Loader.jsx","utils/validators/validator.js","components/Common/Paginator/Paginator.module.css","assets/userPhoto.jpg","redux/profile-reducer.js"],"names":["module","exports","instance","axios","withCredentials","baseURL","headers","usersAPI","requestUsers","Page","pageSize","get","then","response","data","follow","userId","post","unfollow","delete","getProfile","console","warn","ProfileAPI","getStatus","updateStatus","status","put","savePhoto","photo","formData","FormData","append","saveProfile","profile","authAPI","me","login","email","password","rememberMe","captcha","logout","securityAPI","getCaptchaUrl","initialState","dialogs","id","name","messages","message","sendMessageCreator","newMessageBody","type","dialogsReducer","state","action","body","FormControl","input","meta","error","touched","children","isError","className","s","formControl","Textarea","props","restProps","child","Input","createField","placeholder","validators","component","text","fieldWrapper","validate","Boolean","window","location","hostname","match","Navbar","nav","list","link","to","activeClassName","active","updateObjectInArray","items","itemId","objPropName","newObjProps","map","u","users","totalUsersCount","isFetching","followingInProgress","followSuccess","unfollowSuccess","setCurrentPage","toggleIsFetching","toggleFollowingProgress","followUnfollowFlow","dispatch","apiMethod","actionCreator","a","resultCode","usersReducer","followed","count","filter","Paginator","totalItemsCount","currentPage","onPageChanged","portionSize","pagesCount","Math","ceil","pages","i","push","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","paginator","onClick","p","cn","selectedPage","pageNumber","key","e","User","user","userWrapper","src","photos","small","userPhoto","disabled","some","Users","getUsers","createSelector","usersPage","getPageSize","getCurrentPage","getIsFetching","getFollowingInProgress","UsersContainer","this","Loader","React","Component","compose","connect","bind","totalCount","Header","header","logoWrapper","logo","alt","logoImg","loginBlock","isAuth","captchaUrl","setAuthUserData","payload","getCaptchaUrlSuccess","getAuthUserData","url","authReducer","HeaderContainer","auth","LoginReduxForm","reduxForm","form","handleSubmit","onSubmit","required","formSummaryError","length","stopSubmit","_error","loginForm","initialized","appReducer","sidebarReducer","reducers","combineReducers","profilePage","profileReducer","dialogsPage","sidebar","formReducer","app","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","createStore","applyMiddleware","thunkMiddleware","__store__","WithSuspense","fallback","DialogsContainer","lazy","ProfileContainer","App","catchAllUnhandledErrors","log","initializeApp","addEventListener","removeEventListener","exact","path","render","from","AppContainer","withRouter","promise","Promise","all","SocialNetworkApp","ReactDOM","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","loader","value","maxLengthCreator","maxLength","posts","likesCount","addPostActionCreator","newPostText","setStatus","getUserProfile","getState","reject","newPost","postId"],"mappings":"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","file":"static/js/main.065a2824.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__2NXIQ\",\"list\":\"Navbar_list__3NayV\",\"link\":\"Navbar_link__1_QC7\",\"active\":\"Navbar_active__7EeNf\"};","import * as axios from 'axios'\r\n\r\n\r\nconst instance = axios.create({\r\n\twithCredentials: true,\r\n\tbaseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n\theaders: {\r\n\t\t\"API-KEY\": \"dd688653-66b2-418d-8675-cb796d5130d0\"\r\n\t}\r\n})\r\n\r\nexport const usersAPI = {\r\n\trequestUsers(Page = 1, pageSize = 10) {\r\n\t\treturn instance.get(`users?page=${Page}&count=${pageSize}`)\r\n\t\t\t.then(response => {\r\n\t\t\t\treturn response.data\r\n\t\t\t})\r\n\t},\r\n\tfollow(userId) {\r\n\t\treturn instance.post(`follow/${userId}`)\r\n\t},\r\n\tunfollow(userId) {\r\n\t\treturn instance.delete(`follow/${userId}`)\r\n\t},\r\n\tgetProfile(userId) {\r\n\t\tconsole.warn('Please use profileApi object')\r\n\t\treturn ProfileAPI.getProfile(userId)\r\n\t}\r\n}\r\n\r\nexport const ProfileAPI = {\r\n\tgetProfile(userId) {\r\n\t\treturn instance.get(`profile/${userId}`)\r\n\t},\r\n\tgetStatus(userId) {\r\n\t\treturn instance.get(`profile/status/${userId}`)\r\n\t},\r\n\tupdateStatus(status) {\r\n\t\treturn instance.put(`profile/status`, { status: status })\r\n\t},\r\n\tsavePhoto(photo) {\r\n\t\tvar formData = new FormData();\r\n\t\tformData.append(\"image\", photo)\r\n\r\n\t\treturn instance.put(`profile/photo`, formData, {\r\n\t\t\theaders: {\r\n\t\t\t\t'Content-Type': 'multipart/form-data'\r\n\t\t\t}\r\n\t\t})\r\n\t},\r\n\tsaveProfile(profile) {\r\n\t\treturn instance.put(`profile`, profile)\r\n\t}\r\n}\r\n\r\nexport const authAPI = {\r\n\tme() {\r\n\t\treturn instance.get(`auth/me`)\r\n\t},\r\n\tlogin(email, password, rememberMe = false, captcha = null) {\r\n\t\treturn instance.post(`auth/login`, { email, password, rememberMe, captcha })\r\n\t},\r\n\tlogout() {\r\n\t\treturn instance.delete(`auth/login`)\r\n\t}\r\n}\r\n\r\nexport const securityAPI = {\r\n\tgetCaptchaUrl() {\r\n\t\treturn instance.put(`security/get-captcha-url`)\r\n\t}\r\n}","const SEND_MESSAGE = 'SEND_MESSAGE'\r\n\r\n\r\nlet initialState = {\r\n\tdialogs: [\r\n\t\t{ id: 1, name: 'Sergei' },\r\n\t\t{ id: 2, name: 'John' },\r\n\t\t{ id: 3, name: 'Sasha' },\r\n\t\t{ id: 4, name: 'Alex' },\r\n\t\t{ id: 5, name: 'Valera' }\r\n\t],\r\n\r\n\tmessages: [\r\n\t\t{ id: 1, message: 'Hi' },\r\n\t\t{ id: 2, message: '1' },\r\n\t\t{ id: 3, message: '2' },\r\n\t]\r\n}\r\n\r\nconst dialogsReducer = (state = initialState, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase SEND_MESSAGE:\r\n\t\t\tlet body = action.newMessageBody\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tmessages: [...state.messages, { id: 6, message: body }]\r\n\t\t\t}\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n\r\nexport const sendMessageCreator = (newMessageBody) => ({ type: SEND_MESSAGE, newMessageBody })\r\n\r\nexport default dialogsReducer","module.exports = __webpack_public_path__ + \"static/media/loader.649b5ccc.svg\";","module.exports = __webpack_public_path__ + \"static/media/logo.6019a74a.png\";","import React from 'react'\r\nimport s from './FormsControls.module.css'\r\nimport { Field } from \"redux-form\"\r\n\r\n\r\nconst FormControl = ({ input, meta: { error, touched }, children }) => {\r\n\tconst isError = error && touched\r\n\treturn (\r\n\t\t<div className={s.formControl + \" \" + (isError ? s.error : \"\")}>\r\n\t\t\t{children}\r\n\t\t\t{ isError && <span>{error}</span>}\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport const Textarea = (props) => {\r\n\tconst { input, meta, child, ...restProps } = props\r\n\treturn <FormControl {...props}><textarea {...input} {...restProps} /></FormControl>\r\n}\r\n\r\nexport const Input = (props) => {\r\n\tconst { input, meta, child, ...restProps } = props\r\n\treturn <FormControl {...props}><input {...input} {...restProps} /></FormControl>\r\n}\r\n\r\nexport const createField = (placeholder, name, validators, component, props = {}, text = \"\") => (\r\n\t<div className={s.fieldWrapper}>\r\n\t\t<Field placeholder={placeholder}\r\n\t\t\tname={name}\r\n\t\t\tvalidate={validators}\r\n\t\t\tcomponent={component}\r\n\t\t\t{...props}\r\n\t\t/> {text}\r\n\t</div>\r\n)","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react'\r\nimport s from './Navbar.module.css'\r\nimport { NavLink } from 'react-router-dom'\r\n\r\nconst Navbar = () => {\r\n\treturn (\r\n\t\t<nav className={s.nav}>\r\n\t\t\t<ul>\r\n\t\t\t\t<li className={s.list}>\r\n\t\t\t\t\t<NavLink className={s.link}\r\n\t\t\t\t\t\tto=\"/Profile\" activeClassName={s.active}>Profile\r\n                    </NavLink>\r\n\t\t\t\t</li>\r\n\t\t\t\t<li className={s.list}>\r\n\t\t\t\t\t<NavLink className={s.link}\r\n\t\t\t\t\t\tto=\"/Dialogs\" activeClassName={s.active}>Messages\r\n                    </NavLink>\r\n\t\t\t\t</li>\r\n\t\t\t\t<li className={s.list}>\r\n\t\t\t\t\t<NavLink className={s.link}\r\n\t\t\t\t\t\tto=\"/Users\" activeClassName={s.active}>Users\r\n                    </NavLink>\r\n\t\t\t\t</li>\r\n\r\n\t\t\t\t<li className={s.list}>\r\n\t\t\t\t\t<NavLink className={s.link}\r\n\t\t\t\t\t\tto=\"/News\" activeClassName={s.active}>News</NavLink>\r\n\t\t\t\t</li>\r\n\t\t\t\t<li className={s.list}>\r\n\t\t\t\t\t<NavLink className={s.link}\r\n\t\t\t\t\t\tto=\"/Music\" activeClassName={s.active}>Music</NavLink>\r\n\t\t\t\t</li>\r\n\t\t\t\t<li className={s.list}>\r\n\t\t\t\t\t<NavLink className={s.link}\r\n\t\t\t\t\t\tto=\"/Settings\" activeClassName={s.active}>Settings</NavLink>\r\n\t\t\t\t</li>\r\n\t\t\t</ul>\r\n\t\t</nav>\r\n\t)\r\n}\r\n\r\nexport default Navbar","export const updateObjectInArray = (items, itemId, objPropName, newObjProps) => {\r\n    return items.map(u => {\r\n        if (u[objPropName] === itemId) {\r\n            return {...u, ...newObjProps}\r\n        }\r\n        return u    \r\n    })\r\n}","import { usersAPI } from \"../api/api\"\r\nimport { updateObjectInArray } from \"../utils/objects-helpers\"\r\n\r\nconst FOLLOW = 'FOLLOW'\r\nconst UNFOLLOW = 'UNFOLLOW'\r\nconst SET_USERS = 'SET_USERS'\r\nconst SET_CURRENT_PAGE = 'SET_CURRENT_PAGE'\r\nconst SET_TOTAL_USERS_COUNT = 'SET_TOTAL_USERS_COUNT'\r\nconst TOGGLE_IS_FETCHING = 'TOGGLE_IS_FETCHING'\r\nconst TOGGLE_IS_FOLLOWING_PROGRESS = 'TOGGLE_IS_FOLLOWING_PROGRESS'\r\n\r\nlet initialState = {\r\n\tusers: [],\r\n\tpageSize: 10,\r\n\ttotalUsersCount: 0,\r\n\tPage: 1,\r\n\tisFetching: true,\r\n\tfollowingInProgress: []\r\n}\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase FOLLOW:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tusers: updateObjectInArray(state.users, action.userId, \"id\", { followed: true })\r\n\t\t\t}\r\n\t\tcase UNFOLLOW:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tusers: updateObjectInArray(state.users, action.userId, \"id\", { followed: false })\r\n\t\t\t}\r\n\t\tcase SET_USERS: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tusers: action.users\r\n\t\t\t}\r\n\t\t}\r\n\t\tcase SET_CURRENT_PAGE: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tPage: action.Page\r\n\t\t\t}\r\n\t\t}\r\n\t\tcase SET_TOTAL_USERS_COUNT: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\ttotalUsersCount: action.count\r\n\t\t\t}\r\n\t\t}\r\n\t\tcase TOGGLE_IS_FETCHING: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tisFetching: action.isFetching\r\n\t\t\t}\r\n\t\t}\r\n\t\tcase TOGGLE_IS_FOLLOWING_PROGRESS: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tfollowingInProgress: action.isFetching ?\r\n\t\t\t\t\t[...state.followingInProgress, action.userId] :\r\n\t\t\t\t\t[state.followingInProgress.filter(id => id !== action.userId)]\r\n\t\t\t}\r\n\t\t}\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n\r\nexport const followSuccess = (userId) => ({ type: FOLLOW, userId })\r\nexport const unfollowSuccess = (userId) => ({ type: UNFOLLOW, userId })\r\nexport const setUsers = (users) => ({ type: SET_USERS, users })\r\nexport const setCurrentPage = (Page) => ({ type: SET_CURRENT_PAGE, Page })\r\nexport const setTotalUsersCount = (totalUsersCount) => ({ type: SET_TOTAL_USERS_COUNT, count: totalUsersCount })\r\nexport const toggleIsFetching = (isFetching) => ({ type: TOGGLE_IS_FETCHING, isFetching })\r\nexport const toggleFollowingProgress = (isFetching, userId) => ({ type: TOGGLE_IS_FOLLOWING_PROGRESS, isFetching, userId })\r\n\r\nexport const requestUsers = (Page, pageSize) => {\r\n\treturn async (dispatch) => {\r\n\t\tdispatch(toggleIsFetching(true))\r\n\t\tdispatch(setCurrentPage(Page))\r\n\r\n\t\tlet data = await usersAPI.requestUsers(Page, pageSize)\r\n\r\n\t\tdispatch(toggleIsFetching(false))\r\n\t\tdispatch(setUsers(data.items))\r\n\t\tdispatch(setTotalUsersCount(data.totalCount))\r\n\t}\r\n}\r\n\r\nconst followUnfollowFlow = async (dispatch, userId, apiMethod, actionCreator) => {\r\n\tdispatch(toggleFollowingProgress(true, userId))\r\n\tlet response = await apiMethod(userId)\r\n\r\n\tif (response.data.resultCode === 0) {\r\n\t\tdispatch(actionCreator(userId))\r\n\t}\r\n\tdispatch(toggleFollowingProgress(false, userId))\r\n}\r\n\r\nexport const follow = (userId) => {\r\n\treturn async (dispatch) => {\r\n\t\tfollowUnfollowFlow(dispatch, userId, usersAPI.follow.bind(usersAPI), followSuccess)\r\n\t}\r\n}\r\n\r\nexport const unfollow = (userId) => {\r\n\treturn async (dispatch) => {\r\n\t\tfollowUnfollowFlow(dispatch, userId, usersAPI.unfollow.bind(usersAPI), unfollowSuccess)\r\n\t}\r\n}\r\n\r\nexport default usersReducer","import React, { useState } from 'react'\r\nimport s from './Paginator.module.css'\r\nimport cn from \"classnames\";\r\n\r\n\r\nlet Paginator = ({ totalItemsCount, pageSize, currentPage, onPageChanged, portionSize = 10 }) => {\r\n\r\n\tlet pagesCount = Math.ceil(totalItemsCount / pageSize)\r\n\r\n\tlet pages = []\r\n\tfor (let i = 1; i <= pagesCount; i++) {\r\n\t\tpages.push(i)\r\n\t}\r\n\r\n\tlet portionCount = Math.ceil(pagesCount / portionSize)\r\n\tlet [portionNumber, setPortionNumber] = useState(1)\r\n\tlet leftPortionPageNumber = (portionNumber - 1) * portionSize + 1\r\n\tlet rightPortionPageNumber = portionNumber * portionSize\r\n\r\n\treturn <div className={s.paginator}>\r\n\t\t{portionNumber > 1 &&\r\n\t\t\t<button onClick={() => { setPortionNumber(portionNumber - 1) }}>&laquo;</button>\r\n\t\t}\r\n\t\t{pages\r\n\t\t\t.filter(p => p >= leftPortionPageNumber && p <= rightPortionPageNumber)\r\n\t\t\t.map((p) => {\r\n\t\t\t\treturn <span className={cn({\r\n\t\t\t\t\t[s.selectedPage]: currentPage === p\r\n\t\t\t\t}, s.pageNumber)}\r\n\t\t\t\t\tkey={p}\r\n\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\tonPageChanged(p);\r\n\t\t\t\t\t}}>{p}</span>\r\n\t\t\t})\r\n\t\t}\r\n\t\t{portionCount > portionNumber &&\r\n\t\t\t<button onClick={() => { setPortionNumber(portionNumber + 1) }}>&raquo;</button>\r\n\t\t}\r\n\t</div>\r\n}\r\n\r\nexport default Paginator","import React from 'react'\r\nimport s from './users.module.css'\r\nimport userPhoto from '../../assets/userPhoto.jpg'\r\nimport { NavLink } from 'react-router-dom'\r\n\r\n\r\nlet User = ({ user, unfollow, follow, followingInProgress }) => {\r\n\treturn <div className={s.userWrapper}>\r\n\t\t<NavLink to={'/profile/' + user.id}>\r\n\t\t\t<img src={user.photos.small != null ? user.photos.small : userPhoto} className={s.userPhoto} />\r\n\t\t</NavLink>\r\n\t\t<div>\r\n\t\t\t<h3>{user.name}</h3>\r\n\t\t\t{user.followed ?\r\n\t\t\t\t<button disabled={followingInProgress.some(id => id === user.id)}\r\n\t\t\t\t\tonClick={() => { unfollow(user.id) }}>\r\n\t\t\t\t\tUnfollow\r\n\t\t\t\t</button> :\r\n\t\t\t\t<button disabled={followingInProgress.some(id => id === user.id)}\r\n\t\t\t\t\tonClick={() => { follow(user.id) }}>\r\n\t\t\t\t\tFollow\r\n\t\t\t\t</button>}\r\n\t\t</div>\r\n\t</div>\r\n}\r\n\r\nexport default User","import React from 'react'\r\nimport Paginator from '../Common/Paginator/Paginator'\r\nimport User from './User'\r\nimport s from './users.module.css'\r\n\r\n\r\nlet Users = ({ totalUsersCount, pageSize, currentPage, onPageChanged, users, ...props }) => {\r\n\treturn <div>\r\n\t\t<Paginator currentPage={currentPage}\r\n\t\t\tonPageChanged={onPageChanged}\r\n\t\t\ttotalItemsCount={totalUsersCount}\r\n\t\t\tpageSize={pageSize} \r\n\t\t\tclassName={s.Paginator} />\r\n\t\t<div className={s.Users}>\r\n\t\t\t{\r\n\t\t\t\tusers.map(u => <User user={u}\r\n\t\t\t\t\tfollowingInProgress={props.followingInProgress}\r\n\t\t\t\t\tunfollow={props.unfollow}\r\n\t\t\t\t\tfollow={props.follow}\r\n\t\t\t\t\tkey={u.id} />\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t</div>\r\n\t</div>\r\n}\r\n\r\nexport default Users","import { createSelector } from \"reselect\"\r\n\r\n\r\nconst getUsersSelector = (state) => {\r\n    return state.usersPage.users\r\n}\r\n\r\nexport const getUsers = createSelector(getUsersSelector, (users) => {\r\n    return users.filter(u => true) \r\n})\r\n\r\nexport const getPageSize = (state) => {\r\n    return state.usersPage.pageSize\r\n}\r\n\r\nexport const totalUsersCount = (state) => {\r\n    return state.usersPage.totalUsersCount\r\n}\r\n\r\nexport const getCurrentPage = (state) => {\r\n    return state.usersPage.Page\r\n}\r\n\r\nexport const getIsFetching  = (state) => {\r\n    return state.usersPage.isFetching\r\n}\r\n\r\nexport const getFollowingInProgress = (state) => {\r\n    return state.usersPage.followingInProgress\r\n}","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { follow, unfollow, setCurrentPage, requestUsers } from '../../redux/users-reducer'\r\nimport Users from './Users'\r\nimport Loader from '../Common/Loader'\r\nimport { compose } from 'redux'\r\nimport { getUsers, getPageSize, totalUsersCount, getCurrentPage, getIsFetching, getFollowingInProgress } from '../../redux/users-selectors'\r\n\r\n\r\nclass UsersContainer extends React.Component {\r\n\tcomponentDidMount() {\r\n\t\tconst { currentPage, pageSize } = this.props\r\n\t\t// thunk\r\n\t\tthis.props.requestUsers(currentPage, pageSize)\r\n\t}\r\n\r\n\tonPageChanged = (pageNumber) => {\r\n\t\tconst { pageSize } = this.props\r\n\t\tthis.props.requestUsers(pageNumber, pageSize)\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn <>\r\n\t\t\t{this.props.isFetching ? <Loader /> : null}\r\n\t\t\t<Users totalUsersCount={this.props.totalUsersCount}\r\n\t\t\t\tpageSize={this.props.pageSize}\r\n\t\t\t\tcurrentPage={this.props.currentPage}\r\n\t\t\t\tonPageChanged={this.onPageChanged}\r\n\t\t\t\tusers={this.props.users}\r\n\t\t\t\tfollow={this.props.follow}\r\n\t\t\t\tunfollow={this.props.unfollow}\r\n\t\t\t\tfollowingInProgress={this.props.followingInProgress} />\r\n\t\t</>\r\n\t}\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tusers: getUsers(state),\r\n\t\tpageSize: getPageSize(state),\r\n\t\ttotalUsersCount: totalUsersCount(state),\r\n\t\tcurrentPage: getCurrentPage(state),\r\n\t\tisFetching: getIsFetching(state),\r\n\t\tfollowingInProgress: getFollowingInProgress(state)\r\n\t}\r\n}\r\n\r\n\r\nexport default compose(\r\n\t//WithAuthRedirect,\r\n\tconnect(mapStateToProps, { follow, unfollow, setCurrentPage, requestUsers })\r\n)(UsersContainer)","import React from 'react'\r\nimport s from './Header.module.css'\r\nimport { NavLink } from 'react-router-dom'\r\nimport logo from '../../assets/logo.png'\r\n\r\nconst Header = (props) => {\r\n\treturn (\r\n\t\t<header className={s.header}>\r\n\t\t\t<div className={s.logoWrapper}>\r\n\t\t\t\t<img src={logo} alt=\"social-network\" className={s.logoImg}></img>\r\n\t\t\t\t<h1 className={s.logo} >Social-network</h1>\r\n\t\t\t</div>\r\n\t\t\t<div className={s.loginBlock}>\r\n\t\t\t\t{props.isAuth ?\r\n\t\t\t\t\t<div>{props.login} - <button onClick={props.logout}>logout</button></div> :\r\n\t\t\t\t\t<NavLink to={'/login'}>Login</NavLink>\r\n\t\t\t\t}\r\n\t\t\t</div>\r\n\t\t</header>\r\n\t)\r\n}\r\n\r\nexport default Header","import { authAPI, securityAPI } from \"../api/api\"\r\nimport { stopSubmit } from \"redux-form\"\r\n\r\nconst SET_USER_DATA = 'SET_USER_DATA'\r\nconst GET_CAPTCHA_URL_SUCCESS = 'GET_CAPTCHA_URL_SUCCESS'\r\n\r\nlet initialState = {\r\n\tuserId: null,\r\n\temail: null,\r\n\tlogin: null,\r\n\tisAuth: false,\r\n\tcaptchaUrl: null\r\n}\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase SET_USER_DATA:\r\n\t\tcase GET_CAPTCHA_URL_SUCCESS:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\t...action.payload\r\n\t\t\t}\r\n\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n\r\n\r\nexport const setAuthUserData = (userId, email, login, isAuth) =>\r\n\t({ type: SET_USER_DATA, payload: { userId, email, login, isAuth } })\r\n\r\nexport const getCaptchaUrlSuccess = (captchaUrl) =>\r\n\t({ type: GET_CAPTCHA_URL_SUCCESS, payload: {captchaUrl} })\r\n\r\nexport const getAuthUserData = () => async (dispatch) => {\r\n\tlet response = await authAPI.me()\r\n\r\n\tif (response.data.resultCode === 0) {\r\n\t\tlet { id, login, email } = response.data.data\r\n\t\tdispatch(setAuthUserData(id, email, login, true))\r\n\t}\r\n}\r\n\r\nexport const login = (email, password, rememberMe, captcha) => async (dispatch) => {\r\n\r\n\tlet response = await authAPI.login(email, password, rememberMe, captcha)\r\n\r\n\t// success\r\n\tif (response.data.resultCode === 0) {\r\n\t\tdispatch(getAuthUserData())\r\n\t} else {\r\n\t\tif (response.data.resultCode === 10) {\r\n\t\t\tdispatch(getCaptchaUrl())\r\n\t\t}\r\n\r\n\t\tlet message = response.data.messages.length > 0 ? response.data.messages[0] : \"Some error\"\r\n\t\tdispatch(stopSubmit(\"login\", { _error: message }))\r\n\t}\r\n}\r\n\r\n\r\nexport const getCaptchaUrl = () => async (dispatch) => {\r\n\tlet response = await securityAPI.getCaptchaUrl()\r\n\tconst captchaUrl = response.data.url\r\n\t\r\n\tdispatch(getCaptchaUrlSuccess(captchaUrl))\r\n}\r\n\r\nexport const logout = () => async (dispatch) => {\r\n\tlet response = await authAPI.logout()\r\n\r\n\tif (response.data.resultCode === 0) {\r\n\t\tdispatch(setAuthUserData(null, null, null, false))\r\n\t}\r\n}\r\n\r\nexport default authReducer","import React from 'react'\r\nimport Header from './Header'\r\nimport { connect } from 'react-redux'\r\nimport { getAuthUserData, logout } from '../../redux/auth-reducer'\r\n\r\n\r\nclass HeaderContainer extends React.Component { \r\n    render() {\r\n        return <Header {...this.props} />\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    isAuth: state.auth.isAuth,\r\n    login: state.auth.login\r\n})\r\n\r\n\r\nexport default connect(mapStateToProps, {logout})(HeaderContainer)","import React from \"react\"\r\nimport { reduxForm } from \"redux-form\"\r\nimport { Input, createField } from \"../Common/FormsControls/FormsControls\"\r\nimport { required } from \"../../utils/validators/validator\"\r\nimport { connect } from \"react-redux\"\r\nimport { login } from \"../../redux/auth-reducer\"\r\nimport { Redirect } from \"react-router-dom\"\r\nimport s from \"../Common/FormsControls/FormsControls.module.css\"\r\n\r\n\r\nconst LoginForm = ({handleSubmit, error, captchaUrl}) => {\r\n\treturn (\r\n\t\t<form onSubmit={handleSubmit}>\r\n\t\t\t{createField(\"Email\", \"email\", [required], Input, {type: \"text\"})}\r\n\t\t\t{createField(\"Password\", \"password\", [required], Input, {type: \"password\"})}\r\n\t\t\t{createField(null, \"rememberMe\", [], Input, {type: \"checkbox\"}, \"rememberMe\")}\r\n\r\n\t\t\t{captchaUrl && <img src={captchaUrl} />}\r\n\t\t\t{captchaUrl && createField(\"Symbols from image\", \"captcha\", [required], Input, {})}\r\n\r\n\t\t\t{error && <div className={s.formSummaryError}>\r\n\t\t\t\t\t{error}\r\n\t\t\t</div>}\r\n\r\n\t\t\t<button>Login</button>\r\n\t\t</form>\r\n\t)\r\n}\r\n\r\nconst LoginReduxForm = reduxForm({ form: 'login' })(LoginForm)\r\n\r\nconst Login = (props) => { \r\n\tconst onSubmit = (formData) => {\r\n\t\tprops.login(formData.email, formData.password, formData.rememberMe, formData.captcha)\r\n\t}\r\n\r\n\tif (props.isAuth) {\r\n\t\treturn <Redirect to={\"/profile\"} />\r\n\t}\r\n\r\n\treturn <div className={s.loginForm}>\r\n\t\t<h1>Login</h1>\r\n\t\t<LoginReduxForm onSubmit={onSubmit} captchaUrl={props.captchaUrl} />\r\n\t</div>\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n\tcaptchaUrl: state.auth.captchaUrl,\r\n\tisAuth: state.auth.isAuth\r\n})\r\n\r\nexport default connect(mapStateToProps, {login})(Login)","import { getAuthUserData } from \"./auth-reducer\"\r\n\r\nconst INITIALIZED_SUCCESS = 'INITIALIZED_SUCCESS'\r\n\r\n\r\nlet initialState = {\r\n\tinitialized: false\r\n}\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase INITIALIZED_SUCCESS:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tinitialized: true\r\n\t\t\t}\r\n\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n\r\n\r\nexport const initializedSuccess = () => ({ type: INITIALIZED_SUCCESS })\r\n\r\nexport const initializeApp = () => (dispatch) => {\r\n\tlet promise = dispatch(getAuthUserData())\r\n\r\n\tPromise.all([promise]).then(() => {\r\n\t\tdispatch(initializedSuccess())\r\n\t})\r\n}\r\n\r\n\r\nexport default appReducer","let initialState = {}\r\n\r\nconst sidebarReducer = (state = initialState, action) => {\r\n\r\n    return state\r\n} \r\n\r\nexport default sidebarReducer\r\n","import { createStore, combineReducers, applyMiddleware, compose } from \"redux\"\r\nimport profileReducer from \"./profile-reducer\"\r\nimport dialogsReducer from \"./dialogs-reducer\"\r\nimport sidebarReducer from \"./sidebar-reducer\"\r\nimport usersReducer from \"./users-reducer\"\r\nimport authReducer from \"./auth-reducer\"\r\nimport thunkMiddleware from \"redux-thunk\"\r\nimport { reducer as formReducer } from 'redux-form'\r\nimport appReducer from \"./app-reducer\"\r\n\r\n\r\nlet reducers = combineReducers({\r\n    profilePage: profileReducer, \r\n    dialogsPage: dialogsReducer, \r\n    sidebar: sidebarReducer,\r\n    usersPage: usersReducer,\r\n    auth: authReducer,\r\n    form: formReducer,\r\n    app: appReducer\r\n})\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose\r\nconst store = createStore(reducers, composeEnhancers(\r\n    applyMiddleware(thunkMiddleware)\r\n))\r\n\r\n// let store = createStore(reducers, applyMiddleware(thunkMiddleware))\r\n\r\nwindow.__store__ = store\r\n\r\nexport default store","import React, {Suspense} from 'react'\r\n\r\n\r\nexport const WithSuspense = (Component) => {\r\n    return (props) => {\r\n        return <Suspense fallback={<div>Loading...</div>}>\r\n            <Component {...props} />\r\n        </Suspense>\r\n    }\r\n}","import React from 'react'\nimport { Redirect, Route, Switch, withRouter } from 'react-router-dom'\nimport './App.css'\nimport Navbar from './components/Navbar/Navbar'\nimport UsersContainer from './components/Users/UsersContainer'\nimport HeaderContainer from './components/Header/HeaderContainer'\nimport Login from './components/Login/Login'\nimport { connect } from 'react-redux'\nimport { initializeApp } from './redux/app-reducer'\nimport { compose } from 'redux'\nimport Loader from './components/Common/Loader'\nimport { HashRouter } from \"react-router-dom\"\nimport { Provider } from 'react-redux'\nimport store from './redux/redux-store'\nimport { WithSuspense } from './hoc/WithSuspense'\n\nconst DialogsContainer = React.lazy(() => import('./components/Dialogs/DialogsContainer'))\nconst ProfileContainer = React.lazy(() => import('./components/Profile/ProfileContainer'))\n\n\nclass App extends React.Component {\n\tcatchAllUnhandledErrors = () => {\n\t\tconsole.log(\"some error occurred\");\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.props.initializeApp()\n\t\twindow.addEventListener(\"unhandledrejection\", this.catchAllUnhandledErrors)\n\t}\n\n\tcomponentWillUnmount() {\n\t\twindow.removeEventListener(\"unhandledrejection\", this.catchAllUnhandledErrors)\n\t}\n\n\trender() {\n\t\tif (!this.props.initialized) return <Loader />\n\n\t\treturn (\n\t\t\t<div className='app'>\n\t\t\t\t<HeaderContainer />\n\t\t\t\t<Navbar />\n\t\t\t\t<div className='app-wrapper-content'>\n\t\t\t\t\t<Switch>\n\t\t\t\t\t\t<Route exact path=\"/\"\n\t\t\t\t\t\t\trender={() => <Redirect from=\"/\" to=\"/profile\" />} />\n\t\t\t\t\t\t<Route path=\"/profile/:userId?\"\n\t\t\t\t\t\t\trender={WithSuspense(ProfileContainer)} />\n\t\t\t\t\t\t<Route path=\"/dialogs\"\n\t\t\t\t\t\t\trender={WithSuspense(DialogsContainer)} />\n\t\t\t\t\t\t<Route path=\"/users\"\n\t\t\t\t\t\t\trender={() => <UsersContainer />} />\n\t\t\t\t\t\t<Route path=\"/login\"\n\t\t\t\t\t\t\trender={() => <Login />} />\n\t\t\t\t\t\t<Route path=\"*\"\n\t\t\t\t\t\t\trender={() => <div>404</div>} />\n\t\t\t\t\t</Switch>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nconst mapStateToProps = (state) => ({\n\tinitialized: state.app.initialized\n})\n\nconst AppContainer = compose(\n\twithRouter,\n\tconnect(mapStateToProps, { initializeApp })\n)(App)\n\nlet SocialNetworkApp = (props) => {\n\t// should remake to browserrouter; heroic\n\treturn <HashRouter> \n\t\t<Provider store={store}>\n\t\t\t<AppContainer />\n\t\t</Provider>\n\t</HashRouter>\n}\n\nexport default SocialNetworkApp","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport * as serviceWorker from './serviceWorker'\nimport './index.css'\nimport SocialNetworkApp from './App' \n\nReactDOM.render(<SocialNetworkApp /> , document.getElementById('root'))\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister()\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormsControls_formControl__rQEo9\",\"error\":\"FormsControls_error__3lkv_\",\"formSummaryError\":\"FormsControls_formSummaryError__21azS\",\"loginForm\":\"FormsControls_loginForm__2GoTZ\",\"fieldWrapper\":\"FormsControls_fieldWrapper__10fID\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Users\":\"users_Users__1we9X\",\"userWrapper\":\"users_userWrapper__2yt4e\",\"userPhoto\":\"users_userPhoto__WD4Pa\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__kkD5R\",\"logoWrapper\":\"Header_logoWrapper__vP3SZ\",\"logoImg\":\"Header_logoImg__2sKRd\",\"logo\":\"Header_logo__3dlwo\",\"loginBlock\":\"Header_loginBlock__gSMrH\"};","import React from 'react'\r\nimport loader from '../../assets/loader.svg'\r\n\r\nlet Loader = (props) => {\r\n    return <img  src={loader} />\r\n}\r\n\r\nexport default Loader","export const required = (value) => {\r\n    if (value) return undefined\r\n    return 'Filed is required'\r\n} \r\n\r\nexport const maxLengthCreator = (maxLength) => (value) => {\r\n    if (value.length > maxLength) return `Max length ${maxLength} symbols`\r\n    return undefined\r\n} ","// extracted by mini-css-extract-plugin\nmodule.exports = {\"paginator\":\"Paginator_paginator__2rQeA\",\"pageNumber\":\"Paginator_pageNumber__1xVCq\",\"selectedPage\":\"Paginator_selectedPage__2mv67\"};","module.exports = __webpack_public_path__ + \"static/media/userPhoto.e44a09d4.jpg\";","import { stopSubmit } from \"redux-form\"\r\nimport { usersAPI, ProfileAPI } from \"../api/api\"\r\n\r\nconst ADD_POST = 'ADD_POST'\r\nconst SET_USER_PROFILE = 'SET_USER_PROFILE'\r\nconst SET_STATUS = 'SET_STATUS'\r\nconst DELETE_POST = 'DELETE_POST'\r\nconst SAVE_PHOTO_SUCCESS = 'SAVE_PHOTO_SUCCESS'\r\n\r\n\r\nlet initialState = {\r\n\tposts: [\r\n\t\t{ id: 0, message: 'Hi', likesCount: '0' },\r\n\t\t{ id: 1, message: 'React JS', likesCount: '17' },\r\n\t\t{ id: 2, message: 'Leeeeeeets gooooo!!!', likesCount: '5' },\r\n\t],\r\n\tprofile: null,\r\n\tstatus: ''\r\n}\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n\r\n\tswitch (action.type) {\r\n\t\tcase ADD_POST: {\r\n\t\t\tlet newPost = {\r\n\t\t\t\tid: 5,\r\n\t\t\t\tmessage: action.newPostText,\r\n\t\t\t\tlikesCount: 0\r\n\t\t\t}\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tposts: [...state.posts, newPost],\r\n\t\t\t\tnewPostText: ''\r\n\t\t\t}\r\n\t\t}\r\n\t\tcase SET_USER_PROFILE: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tprofile: action.profile\r\n\t\t\t}\r\n\t\t}\r\n\t\tcase SET_STATUS: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tstatus: action.status\r\n\t\t\t}\r\n\t\t}\r\n\t\tcase DELETE_POST: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tposts: state.posts.filter(p => p.id !== action.postId)\r\n\t\t\t}\r\n\t\t}\r\n\t\tcase SAVE_PHOTO_SUCCESS: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tprofile: {\r\n\t\t\t\t\t...state.profile,\r\n\t\t\t\t\tphotos: action.photos\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n\r\nexport const addPostActionCreator = (newPostText) => ({ type: ADD_POST, newPostText })\r\nexport const setUserProfile = (profile) => ({ type: SET_USER_PROFILE, profile })\r\nexport const setStatus = (status) => ({ type: SET_STATUS, status })\r\nexport const deletePost = (postId) => ({ type: DELETE_POST, postId })\r\nexport const savaPhotoSuccess = (photos) => ({ type: SAVE_PHOTO_SUCCESS, photos })\r\n\r\n\r\nexport const getUserProfile = (userId) => async (dispatch) => {\r\n\tlet response = await usersAPI.getProfile(userId)\r\n\tdispatch(setUserProfile(response.data))\r\n}\r\n\r\nexport const getStatus = (userId) => async (dispatch) => {\r\n\tlet response = await ProfileAPI.getStatus(userId)\r\n\tdispatch(setStatus(response.data))\r\n}\r\n\r\nexport const updateStatus = (status) => async (dispatch) => {\r\n\ttry {\r\n\t\tlet response = await ProfileAPI.updateStatus(status)\r\n\r\n\t\tif (!response.data.resultCode)\r\n\t\t\tdispatch(setStatus(status))\r\n\t} catch(error) {\r\n\t\tconsole.log(error);\r\n\t}\r\n}\r\n\r\nexport const savePhoto = (photo) => async (dispatch) => {\r\n\tlet response = await ProfileAPI.savePhoto(photo)\r\n\r\n\tif (!response.data.resultCode)\r\n\t\tdispatch(savaPhotoSuccess(response.data.data.photos))\r\n}\r\n\r\nexport const saveProfile = (profile) => async (dispatch, getState) => {\r\n\tconst userId = getState().auth.userId\r\n\tlet response = await ProfileAPI.saveProfile(profile)\r\n\r\n\tif (!response.data.resultCode) {\r\n\t\tdispatch(getUserProfile(userId))\r\n\t} else {\r\n\t\tdispatch(stopSubmit(\"edit-profile\", { _error: response.data.messages[0] }))\r\n\t\treturn Promise.reject(response.data.messages[0])\r\n\t}\r\n}\r\n\r\nexport default profileReducer"],"sourceRoot":""}